{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { AdminService } from 'app/services/admin.service';\nimport { TokenStorageService } from 'app/services/auth/TokenStorage.Service';\nimport { Package } from 'app/services/model/package';\nimport { PackageService } from 'app/services/package.service';\nlet AddColisComponent = class AddColisComponent {\n  constructor(tokenStorage, packageService, adminService) {\n    this.tokenStorage = tokenStorage;\n    this.packageService = packageService;\n    this.adminService = adminService;\n    this.form = {};\n    this.ville = [];\n    this.paymentModes = [{\n      key: \"CASH\",\n      name: \"Espèce seulement\"\n    }, {\n      key: \"CHEQUE\",\n      name: \"Chèque seulement\"\n    }, {\n      key: \"CASH_OR_CHEQUE\",\n      name: \"Espèce ou Chèque\"\n    }];\n    this.deliveryTypes = [{\n      key: \"RAPID\",\n      name: \"Rapide (moins de 24 heures)\"\n    }, {\n      key: \"NORMAL\",\n      name: \"Normal (entre 48 heures et 72 heures)\"\n    }];\n    this.Governorats = [{\n      name: \"Tunis\",\n      child: [{\n        name: \"Ain zaghouan\"\n      }, {\n        name: \"Bab bhar\"\n      }, {\n        name: \"Bab souika\"\n      }, {\n        name: \"Carthage\"\n      }, {\n        name: \"Cite El Khadhra\"\n      }, {\n        name: \"El Hariria\"\n      }, {\n        name: \"El Kabaria\"\n      }, {\n        name: \"El Kram\"\n      }, {\n        name: \"El Menzah\"\n      }, {\n        name: \"El Omarane\"\n      }, {\n        name: \"El Omarane Superieur\"\n      }, {\n        name: \"El Ouerdia\"\n      }, {\n        name: \"Essijoumi\"\n      }, {\n        name: \"Ezzouhour\"\n      }, {\n        name: \"jbel jelloud\"\n      }, {\n        name: \"La goulette\"\n      }, {\n        name: \"La Marsa\"\n      }]\n    }, {\n      name: \"Ben Arous\",\n      child: [{\n        name: \"Ben Arous\"\n      }, {\n        name: \"Bou mhel\"\n      }, {\n        name: \"El Mourouj\"\n      }, {\n        name: \"Ezzahra\"\n      }, {\n        name: \"Fouchana\"\n      }, {\n        name: \"Hamem Chatt\"\n      }, {\n        name: \"Hamem Lif\"\n      }, {\n        name: \"Megrine\"\n      }, {\n        name: \"Mohamdia\"\n      }, {\n        name: \"Morneg\"\n      }, {\n        name: \"Nouvelle Medina\"\n      }, {\n        name: \"Rades\"\n      }]\n    }, {\n      name: \"Ariana\",\n      child: [{\n        name: \"Ariana Ville\"\n      }, {\n        name: \"Ettadhamen\"\n      }, {\n        name: \"Kalaat landalous\"\n      }, {\n        name: \"La Soukra\"\n      }, {\n        name: \"Mnihla\"\n      }, {\n        name: \"Raoued\"\n      }, {\n        name: \"Sidi Thabet\"\n      }]\n    }, {\n      name: \"Béja\"\n    }, {\n      name: \"Kef\"\n    }, {\n      name: \"Jendouba\"\n    }, {\n      name: \"Monastir\"\n    }, {\n      name: \"Gabes\"\n    }, {\n      name: \"Gafsa\"\n    }, {\n      name: \"Kairouan\"\n    }, {\n      name: \"Kasserine\"\n    }, {\n      name: \"Mahdia\"\n    }, {\n      name: \"Médenine\"\n    }, {\n      name: \"Nabeul\"\n    }, {\n      name: \"Sfax\"\n    }, {\n      name: \"Sidi bouzid\"\n    }, {\n      name: \"Silana\"\n    }, {\n      name: \"Sousse\"\n    }, {\n      name: \"Tatouine\"\n    }, {\n      name: \"Tozuer\"\n    }, {\n      name: \"Zaghouan\"\n    }];\n  }\n\n  ngOnInit() {\n    this.package = new Package();\n    let user = this.tokenStorage.getUser();\n    console.log(\"mail user \" + user);\n    this.adminService.getClientAccountByEmail(user).subscribe(data => {\n      this.totalPrice = data.priceOfDelivery + this.form.priceNet;\n    });\n  }\n\n  onSubmit() {\n    this.package.fullName = this.form.fullName;\n    this.package.articleNumber = this.form.articleNumber;\n    this.package.packageNumber = this.form.packageNumber;\n    this.package.telNumber = this.form.telNumber;\n    this.package.priceNet = this.form.priceNet;\n    this.package.comment = this.form.comment;\n    this.package.deliveryType = this.form.deliveryType;\n    this.package.designation = this.form.designation;\n    this.package.governorate = this.form.governorate;\n    this.package.city = this.form.city;\n    this.package.isPackageCanBeOpen = this.form.isPackageCanBeOpen;\n    this.package.paymentMode = this.form.paymentMode;\n    this.package.fullAddress = this.form.fullAddress;\n    this.package.emailUser = this.tokenStorage.getUser();\n    console.log(this.package);\n    this.packageService.createPackage(this.package).subscribe(data => {\n      console.log(data);\n      this.form = {};\n    });\n  }\n\n  onSelectChange(event) {\n    // Access the selected value using event.target.value\n    const selectedValue = event.target.value;\n\n    if (selectedValue === '') {\n      this.ville = [];\n    }\n\n    for (let gov of this.Governorats) {\n      if (gov.name === selectedValue) {\n        this.ville = gov.child;\n      }\n    } // Your logic based on the selected value goes here\n\n\n    console.log('Selected value:', selectedValue);\n    console.log(this.ville);\n  }\n\n};\nAddColisComponent = __decorate([Component({\n  selector: 'app-add-colis',\n  templateUrl: './add-colis.component.html',\n  styleUrls: ['./add-colis.component.css']\n}), __metadata(\"design:paramtypes\", [TokenStorageService, PackageService, AdminService])], AddColisComponent);\nexport { AddColisComponent };","map":null,"metadata":{},"sourceType":"module"}